@using Pegasus_MVC.ViewModels
@model BookingPreviewVM

<div class="modal fade" id="bookingPreviewModal" tabindex="-1" aria-labelledby="bookingPreviewModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header bg-primary text-white">
                <h5 class="modal-title" id="bookingPreviewModalLabel">Booking Preview</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <div class="card mb-3">
                    <div class="card-header">
                        <h6>Contact Information</h6>
                    </div>
                    <div class="card-body">
                        <p><strong>Name:</strong> @Model.FirstName @Model.LastName</p>
                        <p><strong>Email:</strong> @Model.Email</p>
                        <p><strong>Phone:</strong> @Model.PhoneNumber</p>
                    </div>
                </div>

                <div class="card mb-3">
                    <div class="card-header">
                        <h6>Trip Information</h6>
                    </div>
                    <div class="card-body">
                        <p><strong>Pick-up Time:</strong> @Model.PickUpDateTime.ToString("yyyy-MM-dd HH:mm")</p>
                        <p><strong>From:</strong> @Model.PickUpAddress</p>

                        @if (!string.IsNullOrEmpty(Model.FirstStopAddress))
                        {
                            <p><strong>Stop 1:</strong> @Model.FirstStopAddress</p>
                        }

                        @if (!string.IsNullOrEmpty(Model.SecondStopAddress))
                        {
                            <p><strong>Stop 2:</strong> @Model.SecondStopAddress</p>
                        }

                        <p><strong>To:</strong> @Model.DropOffAddress</p>

                        @if (!string.IsNullOrEmpty(Model.Flightnumber))
                        {
                            <p><strong>Flight Number:</strong> @Model.Flightnumber</p>
                        }

                        @if (!string.IsNullOrEmpty(Model.Comment))
                        {
                            <p><strong>Comment:</strong> @Model.Comment</p>
                        }
                    </div>
                </div>

                <div class="card">
                    <div class="card-header bg-success text-white">
                        <h6>Trip Details</h6>
                    </div>
                    <div class="card-body">
                        <p><strong>Distance:</strong> @Model.DistanceKm.ToString("0.00") km</p>
                        <p><strong>Duration:</strong> @Model.DurationMinutes.ToString("0") minutes</p>
                        <p class="h5 mt-3"><strong>Total Price:</strong> @Model.Price.ToString("0.00") SEK</p>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                <button type="button" class="btn btn-success" onclick="confirmBooking()">Confirm Booking</button>
            </div>
        </div>
    </div>
</div>